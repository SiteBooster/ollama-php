# Ollama PHP
A PHP library for interacting with local Ollama server.

## Installation
The recommended way to install the library is via Composer. Run the following command:
```bash
composer require evoware/ollama-php
```

## Example usage:
```php
use GuzzleHttp\Client as HttpClient;

$ollamaClient = new OllamaClient(new HttpClient());
// Generate a simple text completion. To get the underlying content, use the getResponse() method.
$response = $ollamaClient->generateCompletion('The capital of France is ', ['model' => 'mistral:7b']); 
$completionText = $response->getResponse(); // Will return the generated completion text.
```

#### Interacting with models:
```php
// List all local models
$models = $ollamaClient->model()->list();

// Pull a local model. This will return true if the model was successfully pulled or false on error.
$result = $ollamaClient->model()->pull('mistral:7b');
// Or alternatively, it can be accessed via the getModelRepository method:
$result = $ollamaClient->getModelRepository()->pull('mistral:7b');
```

#### Generating embeddings:
```php
// Generate embeddings for a given prompt. Returns an EmbeddingsResponse object. Underlying data is an embedding array.
$embeddings = $ollamaClient->generateEmbeddings('This is my text to be embedded.', 'nomic-embed-text');
```

## Response Types
#### The Ollama PHP library provides the following response types:


##### CompletionResponse
The `CompletionResponse` object represents the response generated by the `generateCompletion` method. It contains the completion data and relevant information.

##### ChatCompletionResponse
The `ChatCompletionResponse` object represents the response generated by the `generateChatCompletion` method. It includes the chat completion data and associated details.

##### EmbeddingsResponse
The `EmbeddingsResponse` object represents the response generated by the `generateEmbeddings` method. It contains the embeddings data and additional information.

##### ModelOperationResponse
The `ModelOperationResponse` object represents the response generated by model operations such as creation, deletion, copy, pull, and push. It provides the status and details of the model operation.

Ollama response offers access to the underlying Guzzle Response object via the `getHttpResponse()` method.

## Warning
⚠️ This project is currently in early development stage and not ready for production use. It comes without any guarantees. Use at your own risk. ⚠️


